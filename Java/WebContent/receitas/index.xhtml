<!DOCTYPE html> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"> 
	<body>
		<ui:composition template="../templates/_layout.xhtml">
			<ui:define name="content">
				<main class="main" role="main">
				    <div class="wrap clearfix">
				        <nav class="breadcrumbs">
				            <ul>
				                <li><a href="/" title="Home">Home</a></li>
				                <li><a href="#">Cadastro</a></li>
				                <li>Receita</li>
				            </ul>
				        </nav>
				
				        <div class="row">
				            <header class="s-title">
				                <h1>Receita</h1>
				            </header>
				
				            <section class="content full-width">
				                <div class="container">
									<h:form>
										<h:messages globalOnly="true" errorClass="error"/>
									</h:form>
									
									<c:choose>
										<c:when test="${not empty receitaBean.lista}">
											<table class="table table-stiped table-hover">
									            <thead>
									                <tr>
									                    <th>
									                        Nome
									                    </th>
									                    <th>Ações</th>
									                </tr>
									            </thead>
									            <tbody>
									            	<c:forEach items="#{receitaBean.lista}" var="receita">
									                    <tr>
									                        <td>
									                            #{receita.nome}
									                        </td>
									                        <td>
																<h:form>
																	<h:commandLink action="#{receitaBean.exibir(receita)}" value="Detalhes"></h:commandLink> |
																	<h:commandLink action="#{receitaBean.editar(receita)}" value="Editar"></h:commandLink> |
																	<h:commandLink action="#{receitaBean.deletar(receita)}" value="Deletar"></h:commandLink>
																</h:form>
									                        </td>
									                    </tr>
									                </c:forEach>
									            </tbody>
									        </table>
								        </c:when>
								        <c:otherwise>
								        	<p>A lista está vazia.</p>
								        </c:otherwise>
							        </c:choose>
										
									<h:form>
										<h:commandButton action="/receitas/criar" immediate="true" value="Criar nova receita" />
									</h:form>
				                </div>
				            </section>
				        </div>
				    </div>
				</main>
			</ui:define>
		</ui:composition>
	</body> 
</html>
